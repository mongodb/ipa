---
id: 113
slug: /113
---

# IPA-113: Singleton Resources

An API may define singleton resources. A singleton resource **must** always
exist by virtue of the existence of its parent, with one and exactly one per
parent.

:::info[State]

Adopt

:::

## Guidance

- Singleton resources **must not** have a user-provided or system-generated ID
- Singleton resources **must not** define the [Create](0106.md) or
  [Delete](0108.md) standard methods
  - The singleton is implicitly created or deleted when its parent is created or
    deleted
- Singleton resources **must** define the [Get](0104.md) method
- Singleton resources **should** define the [Update](0107.md) method, unless the
  resource is [read-only](0113.md#read-only-singleton-resources)
- Singleton resources **may** define [custom methods](0109.md) as appropriate

Example

```http request
GET /groups/${groupId}/settings
###
PATCH /groups/${groupId}/settings
```

### Read-Only Singleton Resources

Read-only singleton resources are [singleton resources](0113.md) that cannot be
modified by API consumers.

- Read-only singleton resources **must** have only the [Get](0104.md) method
- Read-only singleton resources **must not** have [Create](0106.md),
  [Update](0107.md), or [Delete](0108.md) methods
- Read-only singleton resources **may** have [custom methods](0109.md) as
  appropriate, provided they do not modify the resource
- All response schema properties for read-only singleton resources **must** be
  marked as read-only
  - In OpenAPI, this means all properties **must** have `readOnly: true`
  - All fields in read-only singleton resources are server-owned. For guidance
    on server-owned fields, see [IPA-111](0111.md#single-owner-fields)
- Unsupported operations on read-only singleton resources **should** return
  `405 Not Allowed`
- Unsupported operations **must not** be documented

### Resetting Singleton Resources

Singleton resources sometimes need to be restored to their default state without
deleting the parent resource. For such cases, a `:reset` custom method may be
used.

- The `:reset` custom method name **must** be reserved exclusively for restoring
  singleton resources to their default state
- Singleton resources **may** define a `:reset` [custom method](0109.md) to
  restore the resource to its default state
- The `:reset` custom method **must** use the `POST` HTTP method
- The `:reset` custom method **must** be idempotent
  - Calling reset multiple times **must** produce the same result as calling it
    once
- The `:reset` custom method **must** return a
  [200 OK](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200)
  response with the reset resource in the response body
- The `:reset` custom method **must not** have a request body
- The API documentation **must** clearly specify what the default value is for
  each field of the singleton resource
- Read-only singleton resources **must not** define a `:reset` custom method
  - Read-only singleton resources cannot be modified, so reset is not applicable
