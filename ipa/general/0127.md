---
id: 127
slug: /127
---

# IPA-127: Array Query Parameters

APIs often need to accept multiple values for a single query parameter. Standardizing array parameter syntax ensures consistent behavior across all MongoDB Atlas APIs.

> [!NOTE]  
> **State:** Adopt

## Guidance

- APIs **must** support comma-separated values for array parameters
  - Example: `?tags=mongodb,database,nosql`
  - APIs **must** document which parameters accept array values
  - Empty arrays **must** be handled gracefully (no error, empty result set)

## Syntax

### Comma-Separated (Required)

```http
GET /groups/{groupId}/clusters?tags=production,mongodb,replica-set
GET /groups/{groupId}/users?roles=admin,developer
GET /groups/{groupId}/projects?regions=us-east-1,eu-west-1,ap-south-1
```

### Bracket Notation (Optional)

```http
GET /groups/{groupId}/clusters?tags[]=production&tags[]=mongodb
GET /groups/{groupId}/users?roles[]=admin&roles[]=developer
```

## Escaping

- Values containing commas **must** be URL-encoded: `?tags=mongodb%2Cversion,database`
- Values containing special characters **should** be URL-encoded
- APIs **must** properly decode URL-encoded values

## Error Handling

- Invalid array syntax **must** return `400 Bad Request`
- Array size limit exceeded **must** return `400 Bad Request` with clear error message
- Individual invalid array values **should** be reported in `badRequestDetail`

Example error response:

```json
{
  "badRequestDetail": {
    "fields": [
      {
        "field": "tags",
        "description": "array size limit exceeded: maximum 100 items allowed, got 150"
      }
    ]
  },
  "detail": "The request content produced validation errors.",
  "error": 400,
  "errorCode": "BAD_REQUEST"
}
```

## Further Reading

- [IPA-114: Errors](0114.md)
- [IPA-110: Pagination](0110.md)
